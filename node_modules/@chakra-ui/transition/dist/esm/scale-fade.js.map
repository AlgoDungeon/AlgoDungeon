{"version":3,"sources":["../../src/scale-fade.tsx"],"names":["cx","mergeWith","__DEV__","AnimatePresence","motion","React","EASINGS","variants","exit","props","opacity","reverse","scale","initialScale","transitionEnd","transition","duration","ease","easeOut","enter","easeInOut","scaleFadeConfig","initial","animate","ScaleFade","forwardRef","ref","unmountOnExit","in","isOpen","className","rest","show","custom","motionProps","displayName"],"mappings":";;;;AAAA,SAASA,EAAT,EAAaC,SAAb,EAAwBC,OAAxB,QAAuC,kBAAvC;AACA,SAASC,eAAT,EAA2CC,MAA3C,QAAyD,eAAzD;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,SAASC,OAAT,QAAwC,WAAxC;AAIA,IAAMC,QAA2B,GAAG;AAClCC,EAAAA,IAAI,EAAGC,KAAD;AACJC,IAAAA,OAAO,EAAE;AADL,KAEAD,KAAK,CAACE,OAAN,GACA;AAAEC,IAAAA,KAAK,EAAEH,KAAK,CAACI;AAAf,GADA,GAEA;AAAEC,IAAAA,aAAa,EAAE;AAAEF,MAAAA,KAAK,EAAEH,KAAK,CAACI;AAAf;AAAjB,GAJA;AAKJE,IAAAA,UAAU,EAAE;AACVC,MAAAA,QAAQ,EAAE,GADA;AAEVC,MAAAA,IAAI,EAAEX,OAAO,CAACY;AAFJ;AALR,IAD4B;AAWlCC,EAAAA,KAAK,EAAE;AACLT,IAAAA,OAAO,EAAE,CADJ;AAELE,IAAAA,KAAK,EAAE,CAFF;AAGLG,IAAAA,UAAU,EAAE;AACVC,MAAAA,QAAQ,EAAE,IADA;AAEVC,MAAAA,IAAI,EAAEX,OAAO,CAACc;AAFJ;AAHP;AAX2B,CAApC;AAqBA,OAAO,IAAMC,eAAuC,GAAG;AACrDC,EAAAA,OAAO,EAAE,MAD4C;AAErDC,EAAAA,OAAO,EAAE,OAF4C;AAGrDf,EAAAA,IAAI,EAAE,MAH+C;AAIrDD,EAAAA;AAJqD,CAAhD;AA2BP,OAAO,IAAMiB,SAAS,gBAAGnB,KAAK,CAACoB,UAAN,CACvB,CAAChB,KAAD,EAAQiB,GAAR,KAAgB;AACd,MAAM;AACJC,IAAAA,aADI;AAEJC,IAAAA,EAAE,EAAEC,MAFA;AAGJlB,IAAAA,OAAO,GAAG,IAHN;AAIJE,IAAAA,YAAY,GAAG,IAJX;AAKJiB,IAAAA;AALI,MAOFrB,KAPJ;AAAA,MAMKsB,IANL,iCAOItB,KAPJ;;AASA,MAAMuB,IAAI,GAAGL,aAAa,GAAGE,MAAM,IAAIF,aAAb,GAA6B,IAAvD;AACA,MAAMM,MAAM,GAAG;AAAEpB,IAAAA,YAAF;AAAgBF,IAAAA;AAAhB,GAAf;AAEA,MAAMuB,WAAW,GAAGjC,SAAS,CAACoB,eAAD,EAAkB;AAC7CY,IAAAA,MAD6C;AAE7CV,IAAAA,OAAO,EAAEM,MAAM,IAAIF,aAAV,GAA0B,OAA1B,GAAoC;AAFA,GAAlB,CAA7B;AAKA,sBACE,oBAAC,eAAD;AAAiB,IAAA,MAAM,EAAEM;AAAzB,KACGD,IAAI,iBACH,oBAAC,MAAD,CAAQ,GAAR;AACE,IAAA,GAAG,EAAEN,GADP;AAEE,IAAA,SAAS,EAAE1B,EAAE,CAAC,qBAAD,EAAwB8B,SAAxB;AAFf,KAGMI,WAHN,EAIMH,IAJN,EAFJ,CADF;AAYD,CA/BsB,CAAlB;;AAkCP,IAAI7B,OAAJ,EAAa;AACXsB,EAAAA,SAAS,CAACW,WAAV,GAAwB,WAAxB;AACD","sourcesContent":["import { cx, mergeWith, __DEV__ } from \"@chakra-ui/utils\"\nimport { AnimatePresence, HTMLMotionProps, motion } from \"framer-motion\"\nimport * as React from \"react\"\nimport { EASINGS, MotionVariants } from \"./__utils\"\n\ntype ScaleFadeVariants = MotionVariants<\"enter\" | \"exit\">\n\nconst variants: ScaleFadeVariants = {\n  exit: (props) => ({\n    opacity: 0,\n    ...(props.reverse\n      ? { scale: props.initialScale }\n      : { transitionEnd: { scale: props.initialScale } }),\n    transition: {\n      duration: 0.1,\n      ease: EASINGS.easeOut,\n    },\n  }),\n  enter: {\n    opacity: 1,\n    scale: 1,\n    transition: {\n      duration: 0.25,\n      ease: EASINGS.easeInOut,\n    },\n  },\n}\n\nexport const scaleFadeConfig: HTMLMotionProps<\"div\"> = {\n  initial: \"exit\",\n  animate: \"enter\",\n  exit: \"exit\",\n  variants,\n}\n\nexport interface ScaleFadeProps extends HTMLMotionProps<\"div\"> {\n  /**\n   * The initial scale of the element\n   * @default 0.95\n   */\n  initialScale?: number\n  /**\n   * If `true`, the element will transition back to exit state\n   */\n  reverse?: boolean\n  /**\n   * If `true`, the element will unmount when `in={false}` and animation is done\n   */\n  unmountOnExit?: boolean\n  /**\n   * Show the component; triggers the enter or exit states\n   */\n  in?: boolean\n}\n\nexport const ScaleFade = React.forwardRef<HTMLDivElement, ScaleFadeProps>(\n  (props, ref) => {\n    const {\n      unmountOnExit,\n      in: isOpen,\n      reverse = true,\n      initialScale = 0.95,\n      className,\n      ...rest\n    } = props\n\n    const show = unmountOnExit ? isOpen && unmountOnExit : true\n    const custom = { initialScale, reverse }\n\n    const motionProps = mergeWith(scaleFadeConfig, {\n      custom,\n      animate: isOpen || unmountOnExit ? \"enter\" : \"exit\",\n    })\n\n    return (\n      <AnimatePresence custom={custom}>\n        {show && (\n          <motion.div\n            ref={ref}\n            className={cx(\"chakra-offset-slide\", className)}\n            {...motionProps}\n            {...rest}\n          />\n        )}\n      </AnimatePresence>\n    )\n  },\n)\n\nif (__DEV__) {\n  ScaleFade.displayName = \"ScaleFade\"\n}\n"],"file":"scale-fade.js"}