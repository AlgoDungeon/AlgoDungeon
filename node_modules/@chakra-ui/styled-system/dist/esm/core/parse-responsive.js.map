{"version":3,"sources":["../../../src/core/parse-responsive.ts"],"names":["merge","createMediaQuery","n","parseResponsiveArray","options","mediaQueries","styleFunction","scale","value","props","styles","slice","length","forEach","i","media","style","parseResponsiveObject","breakpoints","valueObj","bp","breakpoint"],"mappings":"AACA,OAAOA,KAAP,MAAkB,kBAAlB;AAQA,OAAO,IAAMC,gBAAgB,GAAIC,CAAD,uCACGA,CADH,MAAzB;AAaP,OAAO,SAASC,oBAAT,CAA8BC,OAA9B,EAAoE;AACzE,MAAM;AAAEC,IAAAA,YAAF;AAAgBC,IAAAA,aAAhB;AAA+BC,IAAAA,KAA/B;AAAsCC,IAAAA,KAAtC;AAA6CC,IAAAA;AAA7C,MAAuDL,OAA7D;AACA,MAAIM,MAAY,GAAG,EAAnB;AACAF,EAAAA,KAAK,CAACG,KAAN,CAAY,CAAZ,EAAeN,YAAY,CAACO,MAA5B,EAAoCC,OAApC,CAA4C,CAACL,KAAD,EAAQM,CAAR,KAAc;AACxD,QAAMC,KAAK,GAAGV,YAAY,CAACS,CAAD,CAA1B;AACA,QAAME,KAAK,GAAGV,aAAa,CAACE,KAAD,EAAQD,KAAR,EAAeE,KAAf,CAA3B;;AAEA,QAAI,CAACM,KAAL,EAAY;AACVL,MAAAA,MAAM,GAAGV,KAAK,CAAC,EAAD,EAAKU,MAAL,EAAaM,KAAb,CAAd;AACD,KAFD,MAEO;AACLN,MAAAA,MAAM,GAAGV,KAAK,CAAC,EAAD,EAAKU,MAAL,EAAa;AACzB,SAACK,KAAD,GAASf,KAAK,CAAC,EAAD,EAAKU,MAAM,CAACK,KAAD,CAAX,EAAoBC,KAApB;AADW,OAAb,CAAd;AAGD;AACF,GAXD;AAYA,SAAON,MAAP;AACD;AAUD,OAAO,SAASO,qBAAT,CAA+Bb,OAA/B,EAAsE;AAC3E,MAAM;AAAEc,IAAAA,WAAF;AAAeZ,IAAAA,aAAf;AAA8BC,IAAAA,KAA9B;AAAqCC,IAAAA,KAAK,EAAEW,QAA5C;AAAsDV,IAAAA;AAAtD,MAAgEL,OAAtE;AAEA,MAAIM,MAAY,GAAG,EAAnB;;AAEA,OAAK,IAAMU,EAAX,IAAiBD,QAAjB,EAA2B;AACzB,QAAME,UAAU,GAAGH,WAAW,CAACE,EAAD,CAA9B;AACA,QAAMZ,KAAK,GAAGW,QAAQ,CAACC,EAAD,CAAtB;AACA,QAAMJ,KAAK,GAAGV,aAAa,CAACE,KAAD,EAAQD,KAAR,EAAeE,KAAf,CAA3B;;AAEA,QAAI,CAACY,UAAL,EAAiB;AACfX,MAAAA,MAAM,GAAGV,KAAK,CAAC,EAAD,EAAKU,MAAL,EAAaM,KAAb,CAAd;AACD,KAFD,MAEO;AACL,UAAMD,KAAK,GAAGd,gBAAgB,CAACoB,UAAD,CAA9B;AACAX,MAAAA,MAAM,GAAGV,KAAK,CAAC,EAAD,EAAKU,MAAL,EAAa;AACzB,SAACK,KAAD,GAASf,KAAK,CAAC,EAAD,EAAKU,MAAM,CAACK,KAAD,CAAX,EAAoBC,KAApB;AADW,OAAb,CAAd;AAGD;AACF;;AACD,SAAON,MAAP;AACD","sourcesContent":["import { Dict } from \"@chakra-ui/utils\"\nimport merge from \"lodash.mergewith\"\nimport { StyleFunction } from \"./types\"\n\ninterface Props {\n  theme?: Dict\n  [k: string]: any\n}\n\nexport const createMediaQuery = (n: string) =>\n  `@media screen and (min-width: ${n})`\n\ntype ValueType = string | number | ((theme: Dict) => string | number)\n\ninterface ParseResponsiveArrayOptions {\n  mediaQueries: string[]\n  styleFunction: StyleFunction\n  scale: any\n  value: Array<ValueType>\n  props: Props\n}\n\nexport function parseResponsiveArray(options: ParseResponsiveArrayOptions) {\n  const { mediaQueries, styleFunction, scale, value, props } = options\n  let styles: Dict = {}\n  value.slice(0, mediaQueries.length).forEach((value, i) => {\n    const media = mediaQueries[i]\n    const style = styleFunction(value, scale, props)\n\n    if (!media) {\n      styles = merge({}, styles, style)\n    } else {\n      styles = merge({}, styles, {\n        [media]: merge({}, styles[media], style),\n      })\n    }\n  })\n  return styles\n}\n\ninterface ParseResponsiveObjectOptions {\n  breakpoints: Dict\n  styleFunction: StyleFunction\n  scale: any\n  value: Record<string, ValueType>\n  props: Props\n}\n\nexport function parseResponsiveObject(options: ParseResponsiveObjectOptions) {\n  const { breakpoints, styleFunction, scale, value: valueObj, props } = options\n\n  let styles: Dict = {}\n\n  for (const bp in valueObj) {\n    const breakpoint = breakpoints[bp]\n    const value = valueObj[bp]\n    const style = styleFunction(value, scale, props)\n\n    if (!breakpoint) {\n      styles = merge({}, styles, style)\n    } else {\n      const media = createMediaQuery(breakpoint)\n      styles = merge({}, styles, {\n        [media]: merge({}, styles[media], style),\n      })\n    }\n  }\n  return styles\n}\n"],"file":"parse-responsive.js"}