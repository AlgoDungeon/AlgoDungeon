{"version":3,"sources":["../../../src/core/create-system.ts"],"names":["system","configs","config","Object","keys","forEach","key","propConfig","property","scale","compose","parsers","parser"],"mappings":";;;;;;AACA;;AACA;;AACA;;;;AAGO,SAASA,MAAT,CAA+CC,OAA/C,EAAmE;AACxE,MAAMC,MAAc,GAAG,EAAvB;AAEAC,EAAAA,MAAM,CAACC,IAAP,CAAYH,OAAZ,EAAqBI,OAArB,CAA6B,UAACC,GAAD,EAAS;AACpC,QAAMC,UAAU,GAAGN,OAAO,CAACK,GAAD,CAA1B;;AAEA,QAAIC,UAAU,KAAK,IAAnB,EAAyB;AACvBL,MAAAA,MAAM,CAACI,GAAD,CAAN,GAAc,8CAAoB;AAChCE,QAAAA,QAAQ,EAAEF,GADsB;AAEhCG,QAAAA,KAAK,EAAEH;AAFyB,OAApB,CAAd;AAIA;AACD;;AAED,QAAI,OAAOC,UAAP,KAAsB,UAA1B,EAAsC;AACpCL,MAAAA,MAAM,CAACI,GAAD,CAAN,GAAcC,UAAd;AACA;AACD;;AAEDL,IAAAA,MAAM,CAACI,GAAD,CAAN,GAAc,8CAAoBC,UAApB,CAAd;AACD,GAjBD;AAmBA,SAAO,gCAAaL,MAAb,CAAP;AACD;;AAEM,SAASQ,OAAT,GAA+C;AACpD,MAAIR,MAAc,GAAG,EAArB;;AADoD,oCAA3BS,OAA2B;AAA3BA,IAAAA,OAA2B;AAAA;;AAEpDA,EAAAA,OAAO,CAACN,OAAR,CAAgB,UAACO,MAAD,EAAY;AAC1B,QAAI,CAACA,MAAD,IAAW,CAACA,MAAM,CAACV,MAAvB,EAA+B;AAC/BA,IAAAA,MAAM,GAAG,wBAAM,EAAN,EAAUA,MAAV,EAAkBU,MAAM,CAACV,MAAzB,CAAT;AACD,GAHD;AAIA,MAAMU,MAAM,GAAG,gCAAaV,MAAb,CAAf;AACA,SAAOU,MAAP;AACD","sourcesContent":["import { Properties } from \"csstype\"\nimport merge from \"lodash.mergewith\"\nimport { createParser } from \"./create-parser\"\nimport { createStyleFunction } from \"./create-style-function\"\nimport { Config, Parser, PropConfig } from \"./types\"\n\nexport function system<T extends PropConfig | Config>(configs: T): Parser {\n  const config: Config = {}\n\n  Object.keys(configs).forEach((key) => {\n    const propConfig = configs[key]\n\n    if (propConfig === true) {\n      config[key] = createStyleFunction({\n        property: key as keyof Properties,\n        scale: key,\n      })\n      return\n    }\n\n    if (typeof propConfig === \"function\") {\n      config[key] = propConfig\n      return\n    }\n\n    config[key] = createStyleFunction(propConfig)\n  })\n\n  return createParser(config)\n}\n\nexport function compose(...parsers: Parser[]): Parser {\n  let config: Config = {}\n  parsers.forEach((parser) => {\n    if (!parser || !parser.config) return\n    config = merge({}, config, parser.config)\n  })\n  const parser = createParser(config)\n  return parser\n}\n"],"file":"create-system.js"}