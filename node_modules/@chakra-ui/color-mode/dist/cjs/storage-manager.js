"use strict";

exports.__esModule = true;
exports.cookieStorageManager = exports.localStorageManager = exports.storageKey = void 0;
var hasLocalStorage = typeof Storage !== "undefined";
var storageKey = "chakra-ui-color-mode";
exports.storageKey = storageKey;

/**
 * Simple object to handle read-write to localStorage
 */
var localStorageManager = {
  get: function get(init) {
    if (!hasLocalStorage) {
      return init;
    }

    var maybeValue = window.localStorage.getItem(storageKey);
    return maybeValue != null ? maybeValue : init;
  },
  set: function set(value) {
    if (hasLocalStorage) {
      window.localStorage.setItem(storageKey, value);
    }
  },
  type: "localStorage"
};
/**
 * Simple object to handle read-write to cookies
 */

exports.localStorageManager = localStorageManager;

var cookieStorageManager = function cookieStorageManager(cookies) {
  if (cookies === void 0) {
    cookies = "";
  }

  return {
    get: function get(init) {
      var match = cookies.match(new RegExp("(^| )" + storageKey + "=([^;]+)"));

      if (match) {
        return match[2];
      }

      return init;
    },
    set: function set(value) {
      document.cookie = storageKey + "=" + value + "; max-age=31536000; path=/";
    },
    type: "cookie"
  };
};

exports.cookieStorageManager = cookieStorageManager;
//# sourceMappingURL=storage-manager.js.map