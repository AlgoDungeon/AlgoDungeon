"use strict";

exports.__esModule = true;
exports.useClipboard = useClipboard;

var _react = require("react");

var _copyToClipboard = _interopRequireDefault(require("copy-to-clipboard"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

/**
 * React hook to copy content to clipboard
 *
 * @param text the text or value to copy
 * @param timeout delay (in ms) to switch back to initial state once copied.
 */
function useClipboard(text, timeout) {
  if (timeout === void 0) {
    timeout = 1500;
  }

  var _useState = (0, _react.useState)(false),
      hasCopied = _useState[0],
      setHasCopied = _useState[1];

  var onCopy = (0, _react.useCallback)(function () {
    var didCopy = (0, _copyToClipboard["default"])(text);
    setHasCopied(didCopy);
  }, [text]);
  (0, _react.useEffect)(function () {
    var timeoutId = null;

    if (hasCopied) {
      timeoutId = window.setTimeout(function () {
        setHasCopied(false);
      }, timeout);
    }

    return function () {
      if (timeoutId) {
        window.clearTimeout(timeoutId);
      }
    };
  }, [timeout, hasCopied]);
  return {
    value: text,
    onCopy: onCopy,
    hasCopied: hasCopied
  };
}
//# sourceMappingURL=use-clipboard.js.map