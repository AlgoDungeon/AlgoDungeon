"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),t=require("react-dom"),r=require("@reach/visually-hidden"),n=require("@reach/utils");function u(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}require("prop-types");var c,i=u(e),l=u(r),o={polite:-1,assertive:-1},a={polite:{},assertive:{}},f={polite:null,assertive:null},s=e.forwardRef((function(t,r){var u=t.children,c=t.type,l=void 0===c?"polite":c,o=function(e,t){if(null==e)return{};var r,n,u={},c=Object.keys(e);for(n=0;n<c.length;n++)t.indexOf(r=c[n])>=0||(u[r]=e[r]);return u}(t,["children","type"]),a=e.useRef(null),f=n.useForkedRef(r,a),s=e.useMemo((function(){return i.default.createElement("div",Object.assign({},o,{ref:f,"data-reach-alert":!0}),u)}),[u,o]);return function(t,r,u){var c=n.usePrevious(t),i=e.useRef(null),l=e.useRef(!1);e.useEffect((function(){var e=n.getOwnerDocument(u.current)||document;l.current?c!==t?(i.current&&i.current.unmount(),i.current=d(t,e),i.current.mount(r)):i.current&&i.current.update(r):(l.current=!0,i.current=d(t,e),i.current.mount(r))}),[r,t,c,u]),e.useEffect((function(){return function(){i.current&&i.current.unmount()}}),[])}(l,s,a),s}));function d(e,t){var r=++o[e];return{mount:function n(u){if(f[e])a[e][r]=u,v();else{var c=t.createElement("div");c.setAttribute("data-reach-live-"+e,"true"),f[e]=c,t.body.appendChild(f[e]),n(u)}},update:function(t){a[e][r]=t,v()},unmount:function(){delete a[e][r],v()}}}function v(){null!=c&&window.clearTimeout(c),c=window.setTimeout((function(){Object.keys(a).forEach((function(e){var r=e;f[r]&&t.render(i.default.createElement(l.default,null,i.default.createElement("div",{role:"assertive"===r?"alert":"status","aria-live":r},Object.keys(a[r]).map((function(e){return i.default.cloneElement(a[r][e],{key:e,ref:null})})))),f[r])}))}),500)}exports.Alert=s,exports.default=s;
//# sourceMappingURL=alert.cjs.production.min.js.map
